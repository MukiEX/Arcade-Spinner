# Arcade-Spinner
Arduino Micro Arcade Spinner

This is an Arduino Micro (or clone) arcade spinner with 6 buttons for use with MAME or any other emulator which can use the X axis of the mouse as a paddle controller. This should also work on any board which uses the ATmega32U4 as long as the port pins are mapped to the same "digital pins" as the Micro. To construct this you will need a 2-phase rotary encoder which can operate at 5v and some momentary switch buttons. The rotary encoder I used is: https://www.amazon.com/Signswise-Incremental-Encoder-Dc5-24v-Voltage/dp/B00UTIFCVA 
However, any 2-phase 5v one should work. You can even use the little 20-30 position encoders that come with a lot of Arduino kits, although I don't recommend it. You will also need the Arduino joystick library available at: https://github.com/MHeironimus/ArduinoJoystickLibrary

This device will be detected as both a mouse and a joystick/gamepad. The joystick only has an X axis which we don't use. It was needed by the library to declare the joystick. We just center that x axis in setup() and forget about it. The spinner controls the mouse X axis which is by default mapped to the analog dial in MAME (don't forget to enable the mouse in MAME under advanced options!). The buttons will work as regular gamepad/joystick buttons. The 2400 different positions that can be detected on the 600ppr encoder I'm using are way too many for our purposes. The "mouse" is only polled every 1ms. This means at max we can only send 1000 move mouse commands per second, not even enough to get halfway around the encoder in 1 second. So, we only move the mouse for every 2 transitions. I find this works OK, but you may want to adjust it depending on the rotary encoder you're using. In the code I'm moving the mouse by 1 pixel at a time. If you want to speed it up you can move it by more. The code uses the Atmega32u4 ports directly because that's faster than using digitalRead/Write. I'm not doing any debouncing of the buttons or encoder as t seems to work great for me, but you migh an to add debouncing depending on your hardware.
